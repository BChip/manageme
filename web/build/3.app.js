webpackJsonp([3],{94:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var a=e,o=t,l=r;n=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var i=u.get;if(void 0===i)return;return i.call(l)}var s=Object.getPrototypeOf(a);if(null===s)return;e=s,t=o,r=l,n=!0,u=s=void 0}},i=r(1),s=n(i),c=r(45),d=(n(c),r(30)),f=r(130),m=n(f),h=r(129),p=n(h),v=r(33),b=r(46),y=r(31),g=function(e){function t(e){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={projShow:!1,teamShow:!1,teams:[]},this.getTeams()}return o(t,e),l(t,[{key:"getTeams",value:function(){var e=this;(0,b.getTeams)((0,y.getLocalToken)()).then(function(t){var r=t[0],n=t[1];return 200!=n?void e.setState({creationError:"No Teams!"}):void e.setState({teams:r})})}},{key:"handleClose",value:function(e){switch(e){case"team":this.setState({teamShow:!1});break;case"proj":this.setState({projShow:!1})}}},{key:"handleShow",value:function(e){switch(e){case"team":this.setState({teamShow:!0});break;case"proj":this.setState({projShow:!0})}}},{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(d.Link,{to:"/dashboard/reports",className:"pull-right btn btn-primary btn-outline btn-rounded"},"View Reports"),s.default.createElement("button",{className:"pull-right btn btn-primary btn-outline btn-rounded",onClick:this.handleShow.bind(this,"team")},"Create Team"),s.default.createElement("button",{className:"pull-right btn btn-primary btn-outline btn-rounded",onClick:this.handleShow.bind(this,"proj")},"Create Project"),s.default.createElement(v.Modal,{show:this.state.teamShow,onHide:this.handleClose.bind(this,"team")},s.default.createElement(v.Modal.Header,{closeButton:!0},s.default.createElement(v.Modal.Title,null,"Create Team")),s.default.createElement(v.Modal.Body,null,s.default.createElement(m.default,null)),s.default.createElement(v.Modal.Footer,null,s.default.createElement(v.Button,{onClick:this.handleClose.bind(this,"team")},"Close"))),s.default.createElement(v.Modal,{show:this.state.projShow,onHide:this.handleClose.bind(this,"proj")},s.default.createElement(v.Modal.Header,{closeButton:!0},s.default.createElement(v.Modal.Title,null,"Create Project")),s.default.createElement(v.Modal.Body,null,s.default.createElement(p.default,{data:this.state.teams})),s.default.createElement(v.Modal.Footer,null,s.default.createElement(v.Button,{onClick:this.handleClose.bind(this,"proj")},"Close"))))}}]),t}(s.default.Component);t.default=g,e.exports=t.default}).call(this)}finally{}},774:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e,t,r){for(var n=!0;n;){var a=e,o=t,l=r;n=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var i=u.get;if(void 0===i)return;return i.call(l)}var s=Object.getPrototypeOf(a);if(null===s)return;e=s,t=o,r=l,n=!0,u=s=void 0}},s=r(1),c=n(s),d=r(30),f=(n(d),r(33),r(89),r(45)),m=(n(f),r(91)),h=(n(m),r(46)),p=r(31),v=function(e){function t(e){var r=this;a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleRequirementChange=function(e){return function(t){var n=r.state.requirements.map(function(r,n){return e!==n?r:Number.isInteger(parseInt(t.target.value))?l({},r,{reqTime:t.target.value}):l({},r,{reqName:t.target.value})});r.setState({requirements:n})}},this.handleAddRequirement=function(){r.setState({requirements:r.state.requirements.concat([{reqName:"",reqTime:0}])})},this.handleRemoveRequirement=function(e){return function(){r.setState({requirements:r.state.requirements.filter(function(t,r){return e!==r})})}},console.log(e),this.state={name:e.data.name,desc:e.data.desc,user:"",name_error_text:null,desc_error_text:null,creationError:null,disabled:!0,reqName:"",reqTime:"",requirements:[{reqName:"",reqTime:0}]}}return o(t,e),u(t,[{key:"isDisabled",value:function(){var e=!1,t=!1;this.state.name.length>0?e=!0:(e=!1,this.setState({name_error_text:"Please enter a project name"})),this.state.desc.length>0?t=!0:(t=!1,this.setState({desc_error_text:"Please enter a project description"})),e&&t?this.setState({disabled:!1}):this.setState({disabled:!0})}},{key:"changeValue",value:function(e,t){var r=this,n=e.target.value,a={};a[t]=n,this.setState(a,function(){r.isDisabled()})}},{key:"handleProjUpdate",value:function(e){var t=this;e.preventDefault();var r=(0,p.getLocalToken)();if(r)return(0,h.updateProject)(r,this.props.data.uid,this.state.name,this.state.desc).then(function(e){var r=(e[0],e[1]);return 200!=r?void t.setState({creationError:"Cannot Update"}):(console.log("I AM WORKING"),void window.location.reload())}).catch(function(e){console.log("Error:",e)}),!1}},{key:"render",value:function(){var e=this;return c.default.createElement("div",null,c.default.createElement("form",{role:"form",onSubmit:this.handleProjUpdate.bind(this),className:"ng-pristine ng-valid"},c.default.createElement("div",{className:"form-content"},c.default.createElement("div",{className:"form-group"},c.default.createElement("input",{type:"text",className:"form-control",value:this.state.name,errorText:this.state.name_error_text,onChange:function(t){return e.changeValue(t,"name")}})),c.default.createElement("div",{className:"form-group"},c.default.createElement("textarea",{rows:"4",className:"form-control",value:this.state.desc,errorText:this.state.desc_error_text,onChange:function(t){return e.changeValue(t,"desc")}})),this.state.requirements.map(function(t,r){return c.default.createElement("div",{className:"requirement form-inline"},c.default.createElement("input",{type:"text",placeholder:"Requirement #"+(r+1)+" name",value:t.name,onChange:e.handleRequirementChange(r),className:"form-control"})," ",c.default.createElement("input",{type:"number",placeholder:"Time",value:t.time,onChange:e.handleRequirementChange(r),className:"form-control"})," ",c.default.createElement("button",{type:"button",onClick:e.handleRemoveRequirement(r),className:"btn btn-danger btn-small"},"-"))}),c.default.createElement("button",{type:"button",onClick:this.handleAddRequirement,className:"btn btn-warning btn-small"},"+"),c.default.createElement("p",{style:{color:"red"}},this.state.creationError)),c.default.createElement("button",{className:"btn btn-success",onClick:function(t){return e.handleProjUpdate(t)}},"Submit")))}}]),t}(c.default.Component);t.default=v,e.exports=t.default}).call(this)}finally{}},775:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var a=e,o=t,l=r;n=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var i=u.get;if(void 0===i)return;return i.call(l)}var s=Object.getPrototypeOf(a);if(null===s)return;e=s,t=o,r=l,n=!0,u=s=void 0}},i=r(1),s=n(i),c=r(30),d=r(33),f=r(94),m=n(f),h=r(31),p=r(46),v=r(774),b=n(v),y=function(e){function t(e){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={error:"",projects:"",tok:(0,h.getLocalToken)(),uids:{},shows:{}},this.getProjs()}return o(t,e),l(t,[{key:"getProjs",value:function(){var e=this;(0,p.getProjects)(this.state.tok).then(function(t){var r=t[0],n=t[1];if(200!==n)return void e.setState({error:r.message});var a=r.reverse();a.map(function(t){e.getHours(t.uid)}),e.setState({projects:a})})}},{key:"deleteProj",value:function(e){var t=this;(0,p.deleteProject)(this.state.tok,e).then(function(r){var n=r[0],a=r[1];if(200!==a)return void t.setState({error:n.message});var o=t.state.projects.filter(function(t){return t.uid!==e});t.setState({projects:o})})}},{key:"getHours",value:function(e){return regeneratorRuntime.async(function(t){for(var r=this;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.getProjectHours)((0,h.getLocalToken)(),e).then(function(t){var n=t[0],a=t[1];if(200===a){var o=r.state.uids;o[e]=n[0]["SUM(soft_cap)"]/n[1]["SUM(soft_cap)"]*100,r.setState({uids:o})}}).catch(function(e){console.log(e)}));case 1:case"end":return t.stop()}},null,this)}},{key:"handleClose",value:function(e){var t=this.state.shows;t[e]=!1,this.setState({shows:t})}},{key:"handleShow",value:function(e){var t=this.state.shows;t[e]=!0,this.setState({show:t})}},{key:"render",value:function(){var e=this;if(this.state.projects.length>0){var t=this.state.projects.map(function(t){var r="/dashboard/project?id="+t.uid+"&name="+t.name+"&desc="+t.desc+"&created="+t.created;return s.default.createElement("div",null,s.default.createElement("div",{className:"btn-toolbar pull-right"},s.default.createElement("button",{className:"btn btn-info",onClick:e.handleShow.bind(e,t.uid)},"Update Project"),s.default.createElement(d.Modal,{show:e.state.shows[t.uid],onHide:e.handleClose.bind(e,t.uid)},s.default.createElement(d.Modal.Header,{closeButton:!0},s.default.createElement(d.Modal.Title,null,"Update Team")),s.default.createElement(d.Modal.Body,null,s.default.createElement(b.default,{data:t})),s.default.createElement(d.Modal.Footer,null,s.default.createElement(d.Button,{onClick:e.handleClose.bind(e,t.uid)},"Close"))),s.default.createElement("button",{className:"btn btn-danger",onClick:e.deleteProj.bind(e,t.uid)},"Delete Project")),s.default.createElement(c.Link,{to:r},s.default.createElement("h1",null,t.name)," "),"Description: ",t.desc,s.default.createElement("br",null),"Created: ",t.created,s.default.createElement("br",null)," ",s.default.createElement("br",null),s.default.createElement("div",{className:"progress"},s.default.createElement("div",{className:"progress-bar progress-bar-primary",role:"progressbar","aria-valuenow":"40","aria-valuemin":"0","aria-valuemax":"100",style:{width:e.state.uids[t.uid]+"%"}},e.state.uids[t.uid],"% Complete (on track)")),s.default.createElement("hr",null))});return s.default.createElement("div",{className:"overview-page",key:"overview"},s.default.createElement(m.default,null),s.default.createElement("h2",null,"My Projects:"),s.default.createElement(d.Jumbotron,null,t))}return s.default.createElement("div",{className:"overview-page",key:"overview"},s.default.createElement(m.default,null),s.default.createElement("h2",null,"My Projects:"),s.default.createElement(d.Jumbotron,null,"No Projects Found"))}}]),t}(s.default.Component);t.default=y,e.exports=t.default}).call(this)}finally{}}});